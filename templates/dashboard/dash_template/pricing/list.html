{% extends 'dashboard/base.html' %}
{% load static %}

{% block title %}Pricing{% endblock title %}
{% block pagelevelcss %}
<link rel="stylesheet" type="text/css" href="{% static 'dashboard/plugins/table/datatable/datatables.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'dashboard/plugins/table/datatable/dt-global_style.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'dashboard/assets/css/forms/theme-checkbox-radio.css' %}">
<link href="{% static 'dashboard/assets/css/apps/invoice-list.css' %}" rel="stylesheet" type="text/css" />
<link href="{% static 'dashboard/assets/css/tables/table-basic.css' %}" rel="stylesheet" type="text/css" />
{% endblock pagelevelcss %}

{% block breadcrumb %}
<li class="breadcrumb-item active" aria-current="page"><span>Pricing</span></li>
{% endblock breadcrumb %}

{% block content %}
<div class="row layout-top-spacing">
    <div class="col-xl-12 col-lg-12 col-sm-12 layout-spacing">
        <div class="widget-content widget-content-area br-6">
            <table id="invoice-list" class="table table-hover" style="width:100%">
                <thead>
                    <tr>
                        <th class="checkbox-column" style="width: 10px;"> # </th>
                        <th>Title</th>
                        <th>Price</th>
                        <th>Box Color</th> 
                        <th>Active</th>
                        <th class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for pricing in object_list %}
                    <tr>
                        <td class="checkbox-column"> 1 </td>
                        <td>
                            <div class="d-flex">
                                <p class="align-self-center mb-0 user-name">{{pricing}}</p>
                            </div>
                        </td>
                        <td>{{pricing.price}}</td>
                        <td>{{pricing.get_box_color_display}}</td>
                        <td>{{pricing.active}}</td>
                        <td class="text-center">
                            <ul class="table-controls">
                                <li><a href="{% url 'pricing-edit' pricing.id %}" data-toggle="tooltip" data-placement="top" title="" data-original-title="Edit"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2 text-success"><path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path></svg></a></li>
                                <li>
                                    <form action="{% url 'pricing-delete' pricing.id %}" method="post">
                                        {% csrf_token %}
                                        <button type="submit" class="btn p-0" style="background-color:transparent" >
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-trash-2 text-danger">
                                                <polyline points="3 6 5 6 21 6"></polyline>
                                                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                                </path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line>
                                            </svg>
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock content %}
    

{% block pageleveljs %}
<script src="{% static 'dashboard/plugins/table/datatable/datatables.js' %}"></script>
<script src="{% static 'dashboard/plugins/table/datatable/button-ext/dataTables.buttons.min.js' %}"></script>
<script>
var invoiceList = $('#invoice-list').DataTable({
    "dom": "<'inv-list-top-section'"+ 
    "<'row'" +
    "<'col-12 d-flex justify-content-between'l" +
    "<'dt-action-buttons float-right'B>>>>",
    buttons: [
        {
            text: 'Add New',
            className: 'btn btn-primary btn-sm',
            action: function(e, dt, node, config ) {
                window.location.href = "{% url 'pricing-create' %}";
            }
        }
    ],
    searching: false,
    "order": [[ 1, "asc" ]],
    "stripeClasses": [],
    "lengthMenu": [10, 20, 50, 100],
    "pageLength": 10
});
</script>
{% endblock pageleveljs %}